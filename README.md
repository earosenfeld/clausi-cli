# Clausi CLI – AI Compliance on the Command-Line

Clausi CLI lets you scan source-code projects against the European Union AI Act (EU-AIA) and the General Data Protection Regulation (GDPR).  Reports are generated by the hosted Clausi backend (`https://api.clausi.ai`) and saved locally in PDF, HTML or JSON format.

---

## Installation

Stable release from PyPI
```bash
pip install clausi           # adds the `clausi` executable to PATH
```

Editable install from source (for contributors)
```bash
# inside the repo
pip uninstall -y clausi  # purge old editables
pip install -e .         # reloads the package from the working tree
```

Python ≥ 3.8 is required.

---

## First-time setup (one minute)
```bash
# 1 ▪ Interactive wizard – asks for API keys & branding details
clausi setup

# 2 ▪ Or set individual values directly
clausi config set --openai-key   sk-openai-XYZ789...
```
The CLI stores everything in a YAML file at:
```
Windows  »  %USERPROFILE%\.clausi\config.yml
macOS/Linux »  ~/.clausi/config.yml
```
Run `clausi config show` to view it or `clausi config edit` to open it in your editor.

---

## Scanning a project
```bash
# single framework (uses default mode "ai")
clausi scan . -r EU-AIA

# multiple frameworks in one request
clausi scan /path/to/project \
           -r EU-AIA -r GDPR \
           --mode full            # optional – deeper static analysis

# choose report format & template
clausi scan . -r EU-AIA --format pdf --template detailed
```
After the request completes you'll see:
1. A colourised findings table in the terminal.
2. A report file (e.g. `audit.pdf`) in the output directory – default `./reports` or the value in your config.
3. `audit_metadata.json` alongside the report.

---

## Supported regulations (built-in)
Key | Name
----|---------------------------------------------
EU-AIA | EU AI Act – European Union Artificial Intelligence Act
GDPR   | GDPR – General Data Protection Regulation

Use the `-r/--regulation` flag once per framework.  Any other value is rejected.

---

## Command reference
```
clausi setup                 # interactive first-run wizard
clausi scan PATH [options]   # run a compliance scan

clausi config show           # pretty-print current settings
clausi config set [flags]    # change one or more fields
clausi config edit           # open YAML in $EDITOR / Notepad
clausi config path           # print full path to config file
```
Most frequently used `config set` flags:
```
--openai-key         <OpenAI API key>
--company-name       "ACME Corp"
--company-logo       /absolute/or/relative/logo.png
--output-dir         /where/reports/should/go
--timeout            120        # seconds
--default-regulation EU-AIA
--default-template   detailed   # default | detailed | executive
```

---

## Environment variables (override config temporarily)
Name               | Purpose
-------------------|----------------------------------------------------
OPENAI_API_KEY     | Overrides `openai_key`
CLAUSI_OUTPUT_DIR  | Overrides `report.output_dir`

Precedence: **CLI flag › env var › config file › built-in default**.

---

## Development & testing
```bash
git clone https://github.com/earosenfeld/clausi-cli
cd clausi-cli
pip install -e .[dev]
pytest
```
Black + Ruff are used for formatting/linting: `ruff check .`, `ruff format .`.

---

## License
MIT © Clausi 2025 
